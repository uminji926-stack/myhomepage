<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Heart Signal - 미소년 연애 시뮬레이션</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
        }

        .game-container {
            max-width: 800px;
            width: 100%;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        .start-screen {
            text-align: center;
            padding: 60px 40px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .start-screen h1 {
            font-size: 2.5em;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .start-screen p {
            font-size: 1.2em;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .character-select {
            padding: 40px;
            display: none;
        }

        .character-select.active {
            display: block;
        }

        .select-title {
            text-align: center;
            font-size: 2em;
            color: #667eea;
            margin-bottom: 30px;
        }

        .characters-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }

        .character-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid transparent;
            text-align: center;
        }

        .character-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
            border-color: #667eea;
        }

        .character-icon {
            font-size: 4em;
            margin-bottom: 10px;
        }

        .character-name {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 5px;
        }

        .character-trait {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 10px;
        }

        .character-desc {
            font-size: 0.85em;
            color: #777;
            line-height: 1.4;
        }

        .game-screen {
            display: none;
        }

        .game-screen.active {
            display: block;
        }

        .game-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .character-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .current-character-icon {
            font-size: 2.5em;
        }

        .stats {
            display: flex;
            gap: 20px;
        }

        .stat-item {
            text-align: center;
        }

        .stat-label {
            font-size: 0.8em;
            opacity: 0.9;
        }

        .stat-value {
            font-size: 1.2em;
            font-weight: bold;
        }

        .scene-display {
            padding: 40px;
            min-height: 300px;
            background: linear-gradient(to bottom, #ffeef8 0%, #fff5fb 100%);
        }

        .scene-image {
            text-align: center;
            font-size: 8em;
            margin-bottom: 20px;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .dialogue-box {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
        }

        .speaker-name {
            font-weight: bold;
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .dialogue-text {
            color: #333;
            line-height: 1.8;
            font-size: 1.05em;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 15px;
            padding: 0 40px 40px 40px;
        }

        .choice-btn {
            padding: 20px;
            border: none;
            border-radius: 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            font-size: 1.05em;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            position: relative;
            overflow: hidden;
        }

        .choice-btn:before {
            content: '💖';
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .choice-btn:hover {
            transform: translateX(10px);
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.4);
        }

        .choice-btn:hover:before {
            opacity: 1;
        }

        .ending-screen {
            display: none;
            text-align: center;
            padding: 60px 40px;
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        .ending-screen.active {
            display: block;
        }

        .ending-icon {
            font-size: 6em;
            margin-bottom: 20px;
            animation: heartbeat 1.5s ease infinite;
        }

        @keyframes heartbeat {
            0%, 100% { transform: scale(1); }
            25% { transform: scale(1.1); }
            50% { transform: scale(1); }
        }

        .ending-title {
            font-size: 2.5em;
            margin-bottom: 15px;
        }

        .ending-message {
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0.95;
        }

        .btn {
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 1.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }

        .btn-primary {
            background: white;
            color: #667eea;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-secondary {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: 2px solid white;
            margin-left: 10px;
        }

        .btn-secondary:hover {
            background: white;
            color: #667eea;
        }

        @media (max-width: 768px) {
            .start-screen h1 {
                font-size: 2em;
            }

            .characters-grid {
                grid-template-columns: 1fr;
            }

            .scene-display {
                padding: 20px;
            }

            .choices {
                padding: 0 20px 20px 20px;
            }

            .stats {
                flex-direction: column;
                gap: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Start Screen -->
        <div class="start-screen" id="startScreen">
            <h1>💕 Heart Signal 💕</h1>
            <p>미소년들과의 설레는 학원 로맨스</p>
            <p style="font-size: 0.95em;">당신의 선택이 운명을 결정합니다</p>
            <button class="btn btn-primary" onclick="showCharacterSelect()">게임 시작</button>
        </div>

        <!-- Character Selection -->
        <div class="character-select" id="characterSelect">
            <h2 class="select-title">💝 마음을 훔칠 그를 선택하세요 💝</h2>
            <div class="characters-grid">
                <div class="character-card" onclick="selectCharacter('jun')">
                    <div class="character-icon">🎸</div>
                    <div class="character-name">이준</div>
                    <div class="character-trait">쿨한 밴드부 보컬</div>
                    <div class="character-desc">겉으로는 차가워 보이지만 속은 따뜻한 츤데레 타입</div>
                </div>
                <div class="character-card" onclick="selectCharacter('min')">
                    <div class="character-icon">📚</div>
                    <div class="character-name">강민</div>
                    <div class="character-trait">다정한 학생회장</div>
                    <div class="character-desc">항상 미소 짓는 완벽한 모범생이지만 비밀이 있다</div>
                </div>
                <div class="character-card" onclick="selectCharacter('han')">
                    <div class="character-icon">⚽</div>
                    <div class="character-name">박한</div>
                    <div class="character-trait">발랄한 축구부 에이스</div>
                    <div class="character-desc">밝고 장난기 많은 소년 같은 매력의 스포츠맨</div>
                </div>
            </div>
        </div>

        <!-- Game Screen -->
        <div class="game-screen" id="gameScreen">
            <div class="game-header">
                <div class="character-info">
                    <div class="current-character-icon" id="currentIcon">🎸</div>
                    <div>
                        <div id="currentName" style="font-size: 1.3em; font-weight: bold;">이준</div>
                        <div id="currentTrait" style="font-size: 0.9em; opacity: 0.9;">쿨한 밴드부 보컬</div>
                    </div>
                </div>
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-label">호감도</div>
                        <div class="stat-value"><span id="affection">0</span>💖</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-label">에피소드</div>
                        <div class="stat-value"><span id="episode">1</span>/5</div>
                    </div>
                </div>
            </div>

            <div class="scene-display">
                <div class="scene-image" id="sceneImage">🏫</div>
                <div class="dialogue-box">
                    <div class="speaker-name" id="speakerName">나레이션</div>
                    <div class="dialogue-text" id="dialogueText">학교 복도를 걷고 있는데...</div>
                </div>
            </div>

            <div class="choices" id="choicesContainer">
                <!-- Choices will be inserted here -->
            </div>
        </div>

        <!-- Ending Screen -->
        <div class="ending-screen" id="endingScreen">
            <div class="ending-icon" id="endingIcon">💘</div>
            <h2 class="ending-title" id="endingTitle">True Love Ending</h2>
            <p class="ending-message" id="endingMessage">두 사람은 서로의 마음을 확인하고 영원한 사랑을 약속했습니다.</p>
            <button class="btn btn-primary" onclick="restart()">처음부터 다시</button>
            <button class="btn btn-secondary" onclick="showCharacterSelect()">다른 캐릭터 선택</button>
        </div>
    </div>

    <script>
        let currentCharacter = null;
        let affection = 0;
        let currentEpisode = 1;

        const characters = {
            jun: {
                name: '이준',
                icon: '🎸',
                trait: '쿨한 밴드부 보컬',
                story: [
                    {
                        scene: '🏫',
                        speaker: '이준',
                        text: '(차가운 눈빛으로) ...뭐야, 왜 쳐다봐?',
                        choices: [
                            { text: '아, 미안해... 그냥 밴드 연습 소리가 좋아서', affection: 2 },
                            { text: '아무것도 아니야! (황급히 지나간다)', affection: 0 },
                            { text: '네 기타 연주 정말 멋있더라', affection: 3 }
                        ]
                    },
                    {
                        scene: '🎵',
                        speaker: '이준',
                        text: '(당황한 듯) ...고마워. 사실 네가 들어준 거 알고 있었어.',
                        choices: [
                            { text: '나도 음악 좋아해. 같이 연습할래?', affection: 3 },
                            { text: '다음에도 들어가도 돼?', affection: 2 },
                            { text: '(조용히 미소만 짓는다)', affection: 1 }
                        ]
                    },
                    {
                        scene: '🌙',
                        speaker: '이준',
                        text: '(옥상에서) 너한테만 말할게... 난 사람들 앞에선 긴장돼. 근데 너 앞에선 편해.',
                        choices: [
                            { text: '나도 네 옆에 있으면 편안해', affection: 4 },
                            { text: '걱정 마. 난 항상 네 편이야', affection: 3 },
                            { text: '그럼 우리 더 자주 보자', affection: 2 }
                        ]
                    },
                    {
                        scene: '🎸',
                        speaker: '이준',
                        text: '(진지하게) 너 때문에 새 곡 썼어. 들어볼래?',
                        choices: [
                            { text: '정말? 엄청 듣고 싶어!', affection: 3 },
                            { text: '(두근거리며) 제목이 뭔데?', affection: 4 },
                            { text: '나를 위한 곡이라니... 고마워', affection: 5 }
                        ]
                    },
                    {
                        scene: '💕',
                        speaker: '이준',
                        text: '(수줍게 미소 지으며) ...좋아해. 처음 본 순간부터.',
                        choices: [
                            { text: '나도... 정말 좋아해', affection: 5 },
                            { text: '(손을 잡으며) 나도 같은 마음이야', affection: 5 },
                            { text: '기다렸어, 이 말을', affection: 5 }
                        ]
                    }
                ]
            },
            min: {
                name: '강민',
                icon: '📚',
                trait: '다정한 학생회장',
                story: [
                    {
                        scene: '🏫',
                        speaker: '강민',
                        text: '(밝게 웃으며) 안녕! 도서관 가는 길이야?',
                        choices: [
                            { text: '응, 같이 갈래?', affection: 3 },
                            { text: '학생회 일은 다 끝났어?', affection: 2 },
                            { text: '(고개만 끄덕인다)', affection: 0 }
                        ]
                    },
                    {
                        scene: '📖',
                        speaker: '강민',
                        text: '나 사실... 완벽한 척하는 게 힘들 때가 있어.',
                        choices: [
                            { text: '넌 있는 그대로도 충분히 멋져', affection: 4 },
                            { text: '힘들 땐 나한테 말해', affection: 3 },
                            { text: '그래도 넌 정말 대단해', affection: 2 }
                        ]
                    },
                    {
                        scene: '🌸',
                        speaker: '강민',
                        text: '(진심으로) 너랑 있으면 내가 될 수 있어. 고마워.',
                        choices: [
                            { text: '나도 네 옆이 제일 편해', affection: 4 },
                            { text: '항상 너 자신으로 있어줘', affection: 3 },
                            { text: '(따뜻하게 안아준다)', affection: 5 }
                        ]
                    },
                    {
                        scene: '☕',
                        speaker: '강민',
                        text: '(부드럽게) 요즘 너만 생각해. 이거... 사랑인가 봐.',
                        choices: [
                            { text: '나도... 너만 보여', affection: 5 },
                            { text: '(얼굴 빨개지며) 나도 그래', affection: 4 },
                            { text: '우리 계속 함께 있자', affection: 3 }
                        ]
                    },
                    {
                        scene: '💝',
                        speaker: '강민',
                        text: '(손을 잡으며) 내 곁에 있어줄래? 영원히.',
                        choices: [
                            { text: '물론이지. 사랑해', affection: 5 },
                            { text: '(키스하며) 당연하지', affection: 5 },
                            { text: '평생 함께 할게', affection: 5 }
                        ]
                    }
                ]
            },
            han: {
                name: '박한',
                icon: '⚽',
                trait: '발랄한 축구부 에이스',
                story: [
                    {
                        scene: '🏫',
                        speaker: '박한',
                        text: '(밝게) 야호! 오늘 우리 팀 경기 보러 올 거지?',
                        choices: [
                            { text: '당연하지! 꼭 응원할게', affection: 3 },
                            { text: '음... 시간 되면 갈게', affection: 1 },
                            { text: '너만 보러 간다!', affection: 4 }
                        ]
                    },
                    {
                        scene: '⚽',
                        speaker: '박한',
                        text: '(경기 후 땀 흘리며) 내 골... 봤지? 너한테 보여주고 싶었어!',
                        choices: [
                            { text: '정말 멋있었어!', affection: 3 },
                            { text: '(타월 건네며) 수고했어', affection: 4 },
                            { text: '너 정말 최고야!', affection: 2 }
                        ]
                    },
                    {
                        scene: '🌟',
                        speaker: '박한',
                        text: '(진지하게) 사실 네가 응원해줄 때 힘이 나. 너 때문에 더 열심히 하게 돼.',
                        choices: [
                            { text: '나도 네 모습 보면 힘 나', affection: 4 },
                            { text: '항상 응원할게!', affection: 3 },
                            { text: '(손 잡으며) 함께 하자', affection: 5 }
                        ]
                    },
                    {
                        scene: '🌅',
                        speaker: '박한',
                        text: '(수줍게) 너... 나 좋아해? 나도 너 엄청 좋아하거든...',
                        choices: [
                            { text: '응, 많이 좋아해', affection: 5 },
                            { text: '(볼 뽀뽀) 이게 답이야', affection: 5 },
                            { text: '나도 널 좋아해!', affection: 4 }
                        ]
                    },
                    {
                        scene: '💖',
                        speaker: '박한',
                        text: '(환하게 웃으며) 야호! 우리 사귀는 거야? 진짜?',
                        choices: [
                            { text: '(웃으며) 당연하지!', affection: 5 },
                            { text: '평생 너랑 같이 있을 거야', affection: 5 },
                            { text: '사랑해, 박한아', affection: 5 }
                        ]
                    }
                ]
            }
        };

        function showCharacterSelect() {
            document.getElementById('startScreen').style.display = 'none';
            document.getElementById('characterSelect').classList.add('active');
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('endingScreen').classList.remove('active');
            affection = 0;
            currentEpisode = 1;
        }

        function selectCharacter(charId) {
            currentCharacter = characters[charId];
            document.getElementById('characterSelect').classList.remove('active');
            document.getElementById('gameScreen').classList.add('active');
            
            document.getElementById('currentIcon').textContent = currentCharacter.icon;
            document.getElementById('currentName').textContent = currentCharacter.name;
            document.getElementById('currentTrait').textContent = currentCharacter.trait;
            
            showEpisode(0);
        }

        function showEpisode(index) {
            if (index >= currentCharacter.story.length) {
                showEnding();
                return;
            }

            const episode = currentCharacter.story[index];
            document.getElementById('sceneImage').textContent = episode.scene;
            document.getElementById('speakerName').textContent = episode.speaker;
            document.getElementById('dialogueText').textContent = episode.text;
            document.getElementById('affection').textContent = affection;
            document.getElementById('episode').textContent = currentEpisode;

            const choicesContainer = document.getElementById('choicesContainer');
            choicesContainer.innerHTML = '';

            episode.choices.forEach((choice, i) => {
                const btn = document.createElement('button');
                btn.className = 'choice-btn';
                btn.textContent = choice.text;
                btn.onclick = () => makeChoice(index, choice.affection);
                choicesContainer.appendChild(btn);
            });
        }

        function makeChoice(currentIndex, affectionGain) {
            affection += affectionGain;
            currentEpisode++;
            
            setTimeout(() => {
                showEpisode(currentIndex + 1);
            }, 300);
        }

        function showEnding() {
            document.getElementById('gameScreen').classList.remove('active');
            document.getElementById('endingScreen').classList.add('active');

            let endingData;
            if (affection >= 18) {
                endingData = {
                    icon: '💘',
                    title: 'True Love Ending',
                    message: `${currentCharacter.name}와 당신은 서로의 진심을 확인하고 영원한 사랑을 약속했습니다. 두 사람의 미래는 행복으로 가득합니다.`
                };
            } else if (affection >= 12) {
                endingData = {
                    icon: '💕',
                    title: 'Sweet Romance Ending',
                    message: `${currentCharacter.name}와 당신은 설레는 연애를 시작했습니다. 앞으로 더 많은 추억을 만들어갈 거예요.`
                };
            } else {
                endingData = {
                    icon: '💌',
                    title: 'Friendship Ending',
                    message: `${currentCharacter.name}와 당신은 소중한 친구로 남게 되었습니다. 때로는 우정도 아름다운 인연입니다.`
                };
            }

            document.getElementById('endingIcon').textContent = endingData.icon;
            document.getElementById('endingTitle').textContent = endingData.title;
            document.getElementById('endingMessage').textContent = endingData.message;
        }

        function restart() {
            affection = 0;
            currentEpisode = 1;
            currentCharacter = null;
            document.getElementById('endingScreen').classList.remove('active');
            document.getElementById('startScreen').style.display = 'block';
        }
    </script>
</body>
</html>